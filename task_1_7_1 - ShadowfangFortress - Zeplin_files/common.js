!function(){"use strict";Cookies.defaults={domain:location.hostname.substr(location.hostname.indexOf(".")),expires:1/0,secure:!0},window.Zeplin={};var e=localStorage.getItem("user");if(e)try{window.Zeplin.user=JSON.parse(e)}catch(n){localStorage.removeItem("user")}window.Zeplin.urls=Object.freeze({baseURL:"https://api.zeplin.io"}),window.Zeplin.KEY_CODE=Object.freeze({BACKSPACE:8,TAB:9,ENTER:13,ESC:27,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Digit0:48,KeyPlus:52,KeyPlusGecko:61,KeyD:68,KeyG:71,KeyJ:74,Numpad0:96,NumpadAdd:107,NumpadSubtract:109,KeyMinusGecko:173,KeyPlusChrome:187,KeyMinus:189,KeyMinusChrome:220,Digit0Chrome:221}),window.Zeplin.MOUSE_BUTTON=Object.freeze({LEFT:0,MIDDLE:1,RIGHT:2}),window.Zeplin.headers=new Headers,window.Zeplin.headers.set("Content-Type","application/json"),Cookies.get("userToken")&&window.Zeplin.headers.set("Zeplin-Token",Cookies.get("userToken"));var t;window.Zeplin.getUserInfo=function(){return t?Promise.resolve(t):Cookies.get("userToken")?fetch(Zeplin.urls.baseURL+"/users",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(n){if(e.ok)return Zeplin.user=n,t=n,localStorage.setItem("user",JSON.stringify(t)),n;throw Zeplin.createError(e.status,n)})})["catch"](function(e){return console.error(e),t=JSON.parse(localStorage.getItem("user")),Promise.resolve(t)}):(t=JSON.parse(localStorage.getItem("user")),Promise.resolve(t))},window.Zeplin.wiggle=function(e){function n(e){e.target.classList.remove("wiggle")}e.classList.add("wiggle"),e.addEventListener("webkitAnimationEnd",n),e.addEventListener("animationend",n)},function(e,n,t,i,o,r,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,r=n.createElement(t),a=n.getElementsByTagName(t)[0],r.async=1,r.src=i,a.parentNode.insertBefore(r,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-51352708-4","auto"),ga("require","linkid","linkid.js"),ga("require","displayfeatures"),ga("send","pageview"),function(e,n){if(!n.__SV){var t,i,o,r;window.mixpanel=n,n._i=[],n.init=function(e,t,i){function a(e,n){var t=n.split(".");2==t.length&&(e=e[t[0]],n=t[1]),e[n]=function(){e.push([n].concat(Array.prototype.slice.call(arguments,0)))}}var s=n;for("undefined"!=typeof i?s=n[i]=[]:i="mixpanel",s.people=s.people||[],s.toString=function(e){var n="mixpanel";return"mixpanel"!==i&&(n+="."+i),e||(n+=" (stub)"),n},s.people.toString=function(){return s.toString(1)+".people (stub)"},o="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" "),r=0;r<o.length;r++)a(s,o[r]);n._i.push([e,t,i])},n.__SV=1.2,t=e.createElement("script"),t.type="text/javascript",t.async=!0,t.src="//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",i=e.getElementsByTagName("script")[0],i.parentNode.insertBefore(t,i)}}(document,window.mixpanel||[]),mixpanel.init("8e2050dc40d37740b8825eebb37415a9"),Zeplin.getUserInfo().then(function(e){e&&(ga("set","&uid",e._id),mixpanel.identify(e._id))}),window.addEventListener("storage",function(e){if(e.storageArea===localStorage&&"user"===e.key){var n=JSON.parse(e.oldValue),t=JSON.parse(e.newValue);if(!t)return sessionStorage.setItem("redirectTo",location.href),location.replace("login.html");if(!n&&t){var i=sessionStorage.getItem("redirectTo");sessionStorage.removeItem("redirectTo"),location.replace(i||"projects.html")}}}),window.addEventListener("online",function(){Cookies.get("userToken")||(sessionStorage.setItem("redirectTo",location.href),location.replace("login.html"))}),window.Zeplin.compareByName=function(e,n){return e.name<n.name?-1:e.name>n.name?1:0}}();